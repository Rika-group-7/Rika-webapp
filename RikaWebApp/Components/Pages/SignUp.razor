@page "/signup"
@using System.ComponentModel.DataAnnotations


<div class="container">
    <div class="rika-logga">
        <h1>Rika</h1>
        <h3>Online Shopping</h3>
    </div>
    <div class="new-account-box">
        <h3 class="signup-heading">Sign Up</h3>
        <h6 class="text">Create a new account</h6>
    </div>

    <EditForm FormName="signup" Model="SignUpForm" class="form-box">
        <DataAnnotationsValidator />
        <div class="signup-form">
            <label class="form-label">User Name</label>
            <InputText @bind-Value="SignUpForm.UserName" type="email" placeholder="User Name" />
            <span>
                <ValidationMessage For="() => SignUpForm.UserName" class="text-danger" />
            </span>

            <label class="form-label">Email</label>
            <InputText @bind-Value="SignUpForm.Email" type="email" placeholder="Email" />
            <span>
                <ValidationMessage For="() => SignUpForm.Email" class="text-danger" />
            </span>

            <label class="form-label">Password</label>
            <InputText @bind-Value="SignUpForm.Password" type="password" placeholder="******" />
            <span>
                <ValidationMessage For="() => SignUpForm.Password" class="text-danger" />
            </span>

            <label class="form-label">Confirm Password</label>
            <InputText @bind-Value="SignUpForm.ConfirmPassword" type="password" placeholder="******" />
            <span>
                <ValidationMessage For="() => SignUpForm.ConfirmPassword" class="text-danger" />
            </span>

            <div class="checkbox">
                <InputCheckbox @bind-Value="SignUpForm.Terms" type="checkbox" />
                <label class="Terms">By creating an account you have to agree with our terms & conditions.</label>
                <ValidationMessage For="() => SignUpForm.Terms" class="text-danger" />
            </div>

            <button class="btn">Login</button>
        </div>

    </EditForm>

</div>

@code {
    public class SignUpModel
    {
        [Required(ErrorMessage = "Username is required.")]
        [EmailAddress(ErrorMessage = "Invalid email address.")]
        public string UserName { get; set; } = null!;

        [Required(ErrorMessage = "Email is required.")]
        [EmailAddress(ErrorMessage = "Invalid email address.")]
        public string Email { get; set; } = null!;

        [Required(ErrorMessage = "Password is required.")]
        [MinLength(6, ErrorMessage = "Password must be at least 6 characters long.")]
        [RegularExpression(@"^(?=.\d)(?=.[A-Z])(?=.*\W).{8,}$")]
        public string Password { get; set; } = null!;

        [Required(ErrorMessage = "Confirm Password is required.")]
        [Compare("Password", ErrorMessage = "Passwords do not match.")]
        public string ConfirmPassword { get; set; } = null!;

        [Required(ErrorMessage = "You must agree to the terms.")]
        public bool Terms { get; set; } 
    }

    [SupplyParameterFromForm]
    public SignUpModel SignUpForm { get; set; } = new();
}